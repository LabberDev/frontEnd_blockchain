<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
        
        <script>
            
            

            $(document).ready(function(){
                $("#btn_getBlock").click(function(){
                    $.getJSON("http://localhost:3001/blocks", function(data)
                    {
                        var items = [];
                        $("<ul>").appendTo("body");
                        $.each( data[0], function( key, val )
                        {
                            if (!(typeof(val) === 'object'))
                                items.push( "<li id='" + key + "'>" + key + ": " + val + "</li>" );
                            else
                            {
                                $.each( val, function( key2, val2 )
                                {
                                    if (!(typeof(val2) === 'object'))
                                        items.push( "<li id='" + key2 + "'>" + key2 + ": " + val2 + "</li>" );
                                    else
                                        $.each( val2, function( key3, val3 )
                                        {
                                            items.push( "<li id='" + key3 + "'>" + key3 + ": " + val3 + "</li>" );
                                        });
                                });
                            }
                        });                                                
                        
                        $( "<ul/>", {
                        "class": "my-new-list",
                        html: items.join( "" )
                        }).appendTo( "body" );
                    });
                });
            });
            
            $(document).ready(function(){
                $("#btn_getTransactions").click(function(){
                    $.getJSON("http://localhost:3001/transactions", function(data)
                    {
                        var items = [];
                        $("<ul>").appendTo("body");
                        $.each( data[0], function( key, val )
                        {
                            if (!(typeof(val) === 'object'))
                                items.push( "<li id='" + key + "'>" + key + ": " + val + "</li>" );
                            else
                            {
                                $.each( val, function( key2, val2 )
                                {
                                    if (!(typeof(val2) === 'object'))
                                        items.push( "<li id='" + key2 + "'>" + key2 + ": " + val2 + "</li>" );
                                    else
                                        $.each( val2, function( key3, val3 )
                                        {
                                            items.push( "<li id='" + key3 + "'>" + key3 + ": " + val3 + "</li>" );
                                        });
                                });
                            }
                        });                                                
                        
                        $( "<ul/>", {
                        "class": "my-new-list",
                        html: items.join( "" )
                        }).appendTo( "body" );
                    });
                });
            });
        </script>
    </head>
    <body>
        
        <button id="btn_getBlock" >Visualizza i blocchi della blockchain</button>
        <button id="btn_getTransactions" >Visualizza le transazioni</button>


        <div style="
    position:fixed;
    left:0px;
    bottom:0px;
    height: 50%;
    width:100%;" contenteditable="false" id="terminal"></div>
        <script src="ptty.jquery.js"></script>
        <script src="terminal-manager.js"></script>
    </body>

</html>
